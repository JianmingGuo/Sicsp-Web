{% extends 'base.html' %}
{% load static %}
{% block title %}
toMulVAL
{% endblock %}
{% block content %}
<style>
    html{text-align:center}
</style>
<embed lang="en">
<head>
    <meta charset="UTF-8">
    <title>toMulVAL</title>

</head>

<body>
    <link rel="stylesheet" href="/static/live2d/css/live2d.css" />
<div id="landlord">
    <div class="message" style="opacity:0"></div>
    <canvas id="live2d" width="280" height="250" class="live2d"></canvas>
    <div class="hide-button">隐藏</div>
</div>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript">
    var message_Path = '{%static 'live2d/message.json' %}'
    var home_Path = 'https://mekakuactor.cn/'
    </script>
    <script type="text/javascript" src="/static/live2d/js/live2d.js"></script>
    <script type="text/javascript" src="/static/live2d/js/message.js"></script>
    <script type="text/javascript">
        loadlive2d("live2d", "{%static 'live2d/model/kesshouban_v2/model.json'%}");
    </script>
</body>

<body> <!--style="background-image: url({% static '/imgs/S-ICS.png' %});background-size: auto 700px;background-position: 0px 0px;background-repeat:no-repeat;background-attachment:fixed;">-->
    <h1 style="background: wheat;color: #000000;padding: 40px 0;margin-bottom: 120px;">toMulVAL</h1>
    <form action="/ToMulVAL/tomulvalupload/" method="post" enctype="multipart/form-data">
        <center>Please upload a origin file<input type="file" name="upload"/></center>
        <input type="submit" value="ToMulVAL"/>
    </form>
    <small style="color: red">{{ errinf }}</small>
    <br>
    <div>
        <form action="/ToMulVAL/tomulvaldownload/" method="post">
            <input type="submit" value="Download the .p file">
        </form>
    </div>
    <!--<img src="/static/imgs/IMG_2175.jpeg"/>-->
    <script src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
</body>


<body onload="setToEditable('editable')">
    <link rel="stylesheet" type="text/css" href="/static/css/editable.css"
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

	<script language="javascript" src="/static/css/editable.js"  type="text/javascript"></script>


	<script type="text/javascript">
		function setToEditable(tableid){
			document.getElementById(tableid).onclick=editCell;
		}
	</script>
	<div style="height:40px;"></div>
	<center>
	<table border="1" id="editable" class="stats">
		<tr bgcolor="#666666">
			<th nowrap="nowrap">IP</th>
			<th nowrap="nowrap">主机名</th>
			<th nowrap="nowrap">网络/文件服务器</th>
			<th nowrap="nowrap">读关系</th>
			<th nowrap="nowrap">写关系</th>
			<th nowrap="nowrap">设别型号</th>
		</tr>
	</table>
    <div style="height:40px;"></div>
    <button type="button" id="upload" onclick="update('editable')">提交</button>
    <button type="button" id="mulval" onclick="mulval('editable')">生成攻击图</button>
	</center>
<script>
$.ajax({
    url: "/GetData",
    type: "post",
    data: "hello",
    contentType: false,
    processData: false,
    success: function (data) {
        var length= Object.keys(data).length;
        var i = 1;
        for (var key in data) {
            insRow("editable",i,key,data);
            i++;
        }
    },
    error: function (data) {
        alert("拉取信息失败！");
        console.log(data)
    }
})
</script>
</body>
{% endblock %}
